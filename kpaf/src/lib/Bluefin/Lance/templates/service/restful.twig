<?php
//Don't edit this file which is generated by Bluefin Lance.
use Bluefin\App;
use Bluefin\Service;
use {{ schemaSet.getNamespace }}\Model\{{ schemaName }}\{{ modelName }};

class {{ serviceName }} extends Service
{
    public function search(array $condition)
    {
        return {{ modelName }}::getRowsWithCount($condition{% if relations %}, {{ relations|format_value|raw }}{% endif %});
    }

    public function create(array $record)
    {
        $model = new {{ modelName }}();
        return $model->insert($record);
    }

    public function retrieve(${{ pkName }})
    {
        $model = new {{ modelName }}(${{ pkName }}{% if relations %}, {{ relations|format_value|raw }}{% endif %});
        return $model->data();
    }

    public function update(${{ pkName }}, array $record)
    {
        $model = new {{ modelName }}();
        return $model->update(${{ pkName }}, $record);
    }

    public function delete(${{ pkName }})
    {
        return {{ modelName }}::delete(${{ pkName }});
    }
}