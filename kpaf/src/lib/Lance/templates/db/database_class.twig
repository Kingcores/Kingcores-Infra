<?php
//Don't edit this file which is generated by Bluefin Lance.
namespace {{ schemaSet.getNamespace }}\Model;

use Bluefin\Convention;
use Bluefin\Data\Database;
use Bluefin\Data\Model;

class {{ className }} extends Database
{
    private static $_instance;

    /**
     * Gets the {{ className }} singleton instance.
     * @static
     * @return \{{ schemaSet.getNamespace }}\Model\{{ className }}
     */
    public static function getInstance()
    {
        if (!isset(self::$_instance))
        {
            self::$_instance = new self();
        }

        return self::$_instance;
    }

    protected function __construct()
    {
        parent::__construct(
            '{{ schemaSet.getNamespace }}',
            '{{ schemaSet.getSchemaSetName }}',
            array(
{% for entityName, entity in schemaSet.getUsedEntities %}
{% if not entity.isHardCoded %}
                '{{ entityName }}' => '\\{{ schemaSet.getNamespace }}\\Model\\{{ schemaSet.getSchemaSetName|pascal }}\\{{ entityName|pascal }}',
{% endif %}
{% endfor %}
            ),
            new \Bluefin\Data\Db\{{ adapterName|pascal }}($this)
        );
    }
}